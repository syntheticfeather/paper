# 简单编译器的实例

```c
a = 1; 
b = 10;
while (a < b)
   a = a + 1;
b = a + b;
```

1. 语言设计阶段（编译前）

        语言设计者 → 定义 → 词法规则 + 语法规则 → 形成 → 语言规范

2. 编译器构建阶段（编译前）

        编译器开发者 → 根据语言规范 → 实现 → 词法分析器 + 语法分析器

3. 程序编译阶段（编译时）

        源代码 → [词法分析器] → 单词流 → [语法分析器] → 语法树 → ...

## 语言定义

### 词法的规则表

* 标识符：以字母开头，后跟字母、数字、下划线（如 a, b, result）

* 常数：整数（如 1, 10）

* 关键字：while

* 运算符：=, +, <

* 界符：;, (, )

### 语法的规则表

    program      → stmt | program stmt          # 程序由语句序列组成
    stmt         → while_stmt | assign_stmt     # 语句有两种：while或赋值
    while_stmt   → WHILE ( bool_expr ) stmt     # while语句结构
    assign_stmt  → ID = expr ;                  # 赋值语句结构
    bool_expr    → expr < expr | expr > expr | expr == expr  # 布尔表达式
    expr         → primary_expr | primary_expr + expr | primary_expr - expr  # 算术表达式
    primary_expr → ID | NUMBER                  # 基本表达式（变量或数字）

## 词法分析

由上面的词法规则表，我们可以得到如下的词法分析器：

    <ID, "a"> <ASSIGN> <INTEGER, 1> <SEMICOLON>
    <ID, "b"> <ASSIGN> <INTEGER, 10> <SEMICOLON> 
    <WHILE> <LPAREN> <ID, "a"> <LESS> <ID, "b"> <RPAREN>
        <ID, "a"> <ASSIGN> <ID, "a"> <PLUS> <INTEGER, 1> <SEMICOLON>
    <ID, "b"> <ASSIGN> <ID, "a"> <PLUS> <ID, "b"> <SEMICOLON>

缩进不是必要的

## 语法分析

由上面的语法规则表，我们可以得到如下的语法分析器：

## 语义分析